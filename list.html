<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <div class="row"></div>
    </div>

    <script>
      var products = [
        { id: 0, price: 70000, title: "Blossom Dress", num: 0 },
        { id: 1, price: 50000, title: "Springfield Shirt", num: 0 },
        { id: 2, price: 60000, title: "Black Monastery", num: 0 },
      ];

      localStorage.setItem("cart", JSON.stringify(products));
      let string = "";
      for (let i = 0; i < products.length; i++) {
        let box = ` <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100" />
                <h5 class='title'>${products[i].title}</h5>
                 <p>${products[i].price}</p>
                 <button class='btn'>구매</button>
              </div>
            `;
        string += box;
      }
      document.querySelector(".row").innerHTML = string;

      let btn = document.querySelectorAll(".btn");

      for (let i = 0; i < btn.length; i++) {
        btn[i].addEventListener("click", () => {
          let parseCart = JSON.parse(localStorage.getItem("cart"));
          parseCart[i].num = products[i].num++;
          localStorage.setItem("cart", JSON.stringify(parseCart));
        });
      }
    </script>
  </body>
</html>
